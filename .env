# =========================
# Project Tra cứu & Bán Bill
# File mẫu biến môi trường. Sao chép thành ".env" và chỉnh theo môi trường của bạn.
# =========================

# Server
PORT=3000

# CheckBill Pro (cổng duy nhất)
# Base URL của CheckBill Pro (ví dụ: https://bill.7ty.vn/api)
NEW_API_BASE_URL=https://bill.7ty.vn/api
# Endpoint path (thường /check-electricity)
NEW_API_PATH=/check-electricity

# Thời gian chờ (ms) cho mỗi request tới CheckBill Pro
NEW_API_TIMEOUT_MS=30000

# Số lần thử lại khi request thất bại (exponential backoff)
NEW_API_MAX_RETRIES=3

# Số request song song (concurrency) tối đa khi tra cứu hàng loạt
# Lưu ý: giữ sao cho không vượt quá giới hạn 10 req/s của upstream
NEW_API_CONCURRENCY=6

# Nếu bạn dùng dịch vụ proxy hoặc API key cho CheckBill Pro (không bắt buộc)
# EXTERNAL_API_KEY=your_key_here
# EXTERNAL_PROXY_URL=https://proxy.example.com

# Frontend
# Nếu bạn host frontend ở domain tĩnh (Netlify, Vercel...), đặt URL ở đây để giới hạn CORS
FRONTEND_URL=http://localhost:3000

# Database (nếu bạn chuyển sang Supabase hoặc Postgres)
# Ví dụ PostgreSQL connection string: postgres://user:pass@host:5432/dbname
DATABASE_URL=

# Session / Auth (nếu dùng express-session local)
SESSION_SECRET=change_this_to_a_secure_random_value

# Supabase (optional) - nếu bạn dùng Supabase cho Auth/DB
SUPABASE_URL=
SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE=

# Netlify / Serverless (optional)
# Đặt những biến cần thiết khi deploy functions trên Netlify
NETLIFY_BUILD_DIR=public
NETLIFY_FUNCTIONS_DIST=netlify/functions

# Debug / Dev toggles
# Nếu true, server sẽ bypass auth middleware (dùng cho dev local nhanh)
# KHÔNG bật env này trong production
SKIP_AUTH=false

# Logging level: debug | info | warn | error
LOG_LEVEL=debug

# Rate limiting global (optional) - số request tối đa cho bulk trong khoảng thời gian
# RATE_LIMIT_MAX=100
# RATE_LIMIT_WINDOW_MS=60000

# Thông tin ghi chú / metadata (không bắt buộc)
APP_NAME=project-tra-cuu
APP_ENV=development

# =========================
# Hướng dẫn nhanh
# - Đổi SESSION_SECRET thành chuỗi ngẫu nhiên mạnh trước khi deploy production.
# - Không commit file .env chứa giá trị thật lên git.
# - Lưu SUPABASE_SERVICE_ROLE, EXTERNAL_API_KEY, SESSION_SECRET trong secret store của nền tảng (Netlify env vars).
# =========================
